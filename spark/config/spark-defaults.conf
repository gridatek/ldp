# Spark Configuration
spark.master                     spark://spark-master-svc:7077
spark.eventLog.enabled           true
spark.eventLog.dir               s3a://warehouse/spark-events/
spark.history.fs.logDirectory    s3a://warehouse/spark-events/

# Executor Configuration
spark.executor.memory            1g
spark.executor.cores             1
spark.executor.instances         2

# Driver Configuration
spark.driver.memory              1g
spark.driver.cores               1

# S3/MinIO Configuration
spark.hadoop.fs.s3a.endpoint              http://minio:9000
spark.hadoop.fs.s3a.access.key            admin
spark.hadoop.fs.s3a.secret.key            minioadmin
spark.hadoop.fs.s3a.path.style.access     true
spark.hadoop.fs.s3a.impl                  org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.s3a.connection.ssl.enabled false

# Iceberg Configuration
spark.sql.extensions                org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions
spark.sql.catalog.spark_catalog     org.apache.iceberg.spark.SparkSessionCatalog
spark.sql.catalog.spark_catalog.type hive
spark.sql.catalog.local             org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.local.type        hadoop
spark.sql.catalog.local.warehouse   s3a://warehouse/

# Performance Tuning
spark.sql.adaptive.enabled          true
spark.sql.adaptive.coalescePartitions.enabled true
spark.default.parallelism           4
spark.sql.shuffle.partitions        4
